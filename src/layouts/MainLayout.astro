---
import Header from "../components/ui/Header.astro";
import "../styles/global.css";
const { title, classStyle } = Astro.props;
---

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <meta name="generator" content={Astro.generator} />
        <title>{title}</title>
        
        <!-- Debug: Verificar configuraci√≥n de Astro -->
        <script>
            console.log("üöÄ DEBUG - Configuraci√≥n inicial:");
            console.log("- URL actual:", window.location.href);
            console.log("- Base URL:", document.baseURI);
            console.log("- User Agent:", navigator.userAgent);
        </script>
        
        <!-- Tailwind CSS desde CDN como respaldo -->
        <script src="https://cdn.tailwindcss.com"></script>
        
        <!-- Leaflet CSS -->
        <link
            rel="stylesheet"
            href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
            integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
            crossorigin=""
            onload="console.log('‚úÖ DEBUG - Leaflet CSS cargado correctamente')"
            onerror="console.error('‚ùå DEBUG - Error cargando Leaflet CSS')"
        />
        
        <!-- Debug script para verificar recursos -->
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                console.log("üîç DEBUG - Verificando recursos:");
                
                // Verificar Tailwind
                const testElement = document.createElement('div');
                testElement.className = 'hidden';
                document.body.appendChild(testElement);
                const computedStyle = window.getComputedStyle(testElement);
                if (computedStyle.display === 'none') {
                    console.log("‚úÖ DEBUG - Tailwind CSS funcionando");
                } else {
                    console.error("‚ùå DEBUG - Tailwind CSS NO funcionando");
                }
                document.body.removeChild(testElement);
                
                // Verificar si Leaflet est√° disponible
                setTimeout(() => {
                    if (typeof L !== 'undefined') {
                        console.log("‚úÖ DEBUG - Leaflet disponible, versi√≥n:", L.version);
                    } else {
                        console.error("‚ùå DEBUG - Leaflet NO disponible");
                    }
                }, 1000);
            });
        </script>
    </head>
    <body class={classStyle}>
        <Header />
        <slot />
        
        <!-- Leaflet JS -->
        <script 
            src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" 
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" 
            crossorigin=""
            onload="console.log('‚úÖ DEBUG - Leaflet JS cargado correctamente')"
            onerror="console.error('‚ùå DEBUG - Error cargando Leaflet JS')">
        </script>
    </body>
</html>